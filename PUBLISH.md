# å‘å¸ƒæŒ‡å—

æœ¬æ–‡æ¡£è¯´æ˜å¦‚ä½•å°† `@ariel_jhy/ai-bot-adk` å‘å¸ƒåˆ° npmã€‚

## ğŸš€ å¿«é€Ÿå‘å¸ƒ

### å‘å¸ƒè¡¥ä¸ç‰ˆæœ¬ï¼ˆä¿®å¤ bugï¼‰

```bash
# è‡ªåŠ¨æ›´æ–° CHANGELOGï¼ˆæ³¨æ„éœ€è¦ -- åˆ†éš”ç¬¦ï¼‰
npm run release -- -m "ä¿®å¤æ ·å¼é—®é¢˜"
```

### å‘å¸ƒæ¬¡ç‰ˆæœ¬ï¼ˆæ–°åŠŸèƒ½ï¼‰

```bash
npm run release:minor -- -m "æ–°å¢XXXåŠŸèƒ½"
```

### å‘å¸ƒä¸»ç‰ˆæœ¬ï¼ˆç ´åæ€§å˜æ›´ï¼‰

```bash
npm run release:major -- -m "é‡æ„API"
```

### å¤šè¡Œ CHANGELOG

```bash
# ä½¿ç”¨ \n åˆ†éš”å¤šæ¡
npm run release -- -m "ä¿®å¤æ ·å¼é—®é¢˜\nä¼˜åŒ–æ„å»ºæ€§èƒ½"
```

### ä¸å¸¦æ¶ˆæ¯å‘å¸ƒ

```bash
npm run release
# âš ï¸ ä¼šåˆ›å»º"å¾…æ›´æ–°"æ¡ç›®ï¼Œéœ€è¦æ‰‹åŠ¨ç¼–è¾‘ CHANGELOG.md
```

## ğŸ”§ å·¥ä½œæµç¨‹

æ‰§è¡Œ `npm run release` ä¼šè‡ªåŠ¨å®Œæˆä»¥ä¸‹æ­¥éª¤ï¼š

1. âœ… æ›´æ–° package.json ç‰ˆæœ¬å·ï¼ˆè‡ªåŠ¨è§¦å‘ `preversion` é’©å­æ„å»ºï¼‰
2. âœ… åœ¨ CHANGELOG.md åˆ›å»ºæ–°ç‰ˆæœ¬æ¡ç›®ï¼ˆè‡ªåŠ¨å¡«å…¥ `-m` å‚æ•°å†…å®¹ï¼‰
3. âœ… å‘å¸ƒåˆ° npmï¼ˆ`npm publish --access public`ï¼‰
4. âœ… Git æäº¤å¹¶åˆ›å»ºæ ‡ç­¾ï¼ˆ`postversion` é’©å­ï¼‰
5. âœ… æ¨é€åˆ°è¿œç¨‹ä»“åº“

## ğŸ“‹ ç‰ˆæœ¬å·è§„èŒƒ

éµå¾ª [è¯­ä¹‰åŒ–ç‰ˆæœ¬](https://semver.org/)ï¼š

| ç±»å‹ | å‘½ä»¤ | è¯´æ˜ |
|------|------|------|
| **patch** | `npm run release` | å‘ä¸‹å…¼å®¹çš„é—®é¢˜ä¿®æ­£ (1.0.3 â†’ 1.0.4) |
| **minor** | `npm run release:minor` | å‘ä¸‹å…¼å®¹çš„åŠŸèƒ½æ–°å¢ (1.0.3 â†’ 1.1.0) |
| **major** | `npm run release:major` | ä¸å…¼å®¹çš„ API ä¿®æ”¹ (1.0.3 â†’ 2.0.0) |

## âš ï¸ å‘å¸ƒå‰æ£€æŸ¥

- [ ] ç¡®ä¿æ²¡æœ‰æœªæäº¤çš„æ›´æ”¹ï¼ˆ`git status`ï¼‰
- [ ] è¿è¡Œ `npm run build:lib` ç¡®ä¿æ„å»ºæˆåŠŸ
- [ ] æµ‹è¯• dist ç›®å½•ä¸‹çš„æ–‡ä»¶

## ğŸ“¦ å‘å¸ƒæ–‡ä»¶

å‘å¸ƒåˆ° npm çš„æ–‡ä»¶ï¼š
- `dist/chat-sdk.es.js` - ES Module
- `dist/chat-sdk.umd.js` - UMD æ ¼å¼
- `dist/ai-bot-adk.css` - æ ·å¼æ–‡ä»¶ï¼ˆå¯é€‰ï¼Œæ ·å¼å·²å†…è”ï¼‰
- `dist/index.d.ts` - TypeScript ç±»å‹å£°æ˜
- `dist/types.d.ts` - é¢å¤–ç±»å‹å®šä¹‰

## ğŸ”„ å›æ»š

å¦‚éœ€å›æ»šåˆ°ä¸Šä¸€ç‰ˆæœ¬ï¼š

```bash
npm deprecate @ariel_jhy/ai-bot-adk "<ç‰ˆæœ¬å·>" "å›æ»šåŸå› "
```

è¯¦ç»†å‘å¸ƒæµç¨‹è¯·å‚è€ƒ [npm å‘å¸ƒæ–‡æ¡£](https://docs.npmjs.com/cli/v9/commands/npm-publish)ã€‚
